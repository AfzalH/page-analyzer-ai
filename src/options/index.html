<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page Analyzer AI - Settings</title>
    <link rel="stylesheet" href="../styles/global.css" />
  </head>
  <body class="min-h-screen p-8">
    <div id="app" class="max-w-2xl mx-auto">
      <h1 class="text-2xl font-bold text-purple-700 mb-6">Page Analyzer AI Settings</h1>

      <div id="successMessage" class="hidden bg-green-100 text-green-700 p-3 rounded-lg mb-4">
        Settings saved successfully!
      </div>

      <div id="errorMessage" class="hidden bg-red-100 text-red-700 p-3 rounded-lg mb-4"></div>

      <form id="settingsForm" class="space-y-6">
        <!-- Provider Selection -->
        <div class="card">
          <h2 class="text-lg font-semibold mb-4">LLM Provider</h2>
          <div class="space-y-2">
            <label class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
              <input type="radio" name="preferredProvider" value="groq" class="w-4 h-4 text-purple-600" />
              <div>
                <div class="font-medium">Groq</div>
                <div class="text-sm text-gray-500">Fast inference with open models</div>
              </div>
            </label>
            <label class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
              <input type="radio" name="preferredProvider" value="gemini" class="w-4 h-4 text-purple-600" />
              <div>
                <div class="font-medium">Gemini</div>
                <div class="text-sm text-gray-500">Google's multimodal AI models</div>
              </div>
            </label>
          </div>
        </div>

        <!-- Groq Settings -->
        <div class="card">
          <h2 class="text-lg font-semibold mb-4">Groq Settings</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">API Key</label>
              <div class="relative">
                <input
                  type="password"
                  id="groqApiKey"
                  name="groqApiKey"
                  class="input pr-10"
                  placeholder="gsk_..."
                />
                <button
                  type="button"
                  class="toggle-visibility absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
                  data-target="groqApiKey"
                >
                  Show
                </button>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                Get your API key from <a href="https://console.groq.com/keys" target="_blank" class="text-purple-600 hover:underline">console.groq.com</a>
              </p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Model</label>
              <select id="groqModel" name="groqModel" class="select"></select>
            </div>
          </div>
        </div>

        <!-- Gemini Settings -->
        <div class="card">
          <h2 class="text-lg font-semibold mb-4">Gemini Settings</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">API Key</label>
              <div class="relative">
                <input
                  type="password"
                  id="geminiApiKey"
                  name="geminiApiKey"
                  class="input pr-10"
                  placeholder="AIza..."
                />
                <button
                  type="button"
                  class="toggle-visibility absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
                  data-target="geminiApiKey"
                >
                  Show
                </button>
              </div>
              <p class="text-xs text-gray-500 mt-1">
                Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-purple-600 hover:underline">Google AI Studio</a>
              </p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Model</label>
              <select id="geminiModel" name="geminiModel" class="select"></select>
            </div>
          </div>
        </div>

        <!-- Analysis Settings -->
        <div class="card">
          <h2 class="text-lg font-semibold mb-4">Analysis Settings</h2>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Max Pages to Analyze</label>
            <input
              type="number"
              id="maxPages"
              name="maxPages"
              class="input w-32"
              min="1"
              max="50"
              value="10"
            />
            <p class="text-xs text-gray-500 mt-1">Maximum number of pages to analyze in a batch (1-50)</p>
          </div>
        </div>

        <div class="flex gap-4">
          <button type="submit" class="btn btn-primary">Save Settings</button>
          <button type="button" id="resetBtn" class="btn btn-secondary">Reset to Defaults</button>
        </div>
      </form>
    </div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
